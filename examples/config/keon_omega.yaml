# ==============================================================================
# KEON + OMEGA Integration Configuration Stub
# ==============================================================================
#
# STATUS: EVIDENCE SHELL - Ready for Keon evidence wiring
# MERGE AUTHORITY: None until Gemini clears Campaign II
#
# This configuration file defines the integration seams between OMEGA SDK
# and Keon Core. All values are stubs that will be wired to verified truth
# once Keon Control evidence browser exists.
#
# IMPORTANT: This file prepares the world for Keon. It does NOT:
#   - Define trust semantics
#   - Implement evidence validation
#   - Create governance logic
#
# ==============================================================================

# ------------------------------------------------------------------------------
# OMEGA Federation Core Connection
# ------------------------------------------------------------------------------
federation:
  url: "${OMEGA_FEDERATION_URL:-http://localhost:9405}"
  timeout_ms: 120000
  max_retries: 3

# ------------------------------------------------------------------------------
# Tenant & Actor Identity
# ------------------------------------------------------------------------------
identity:
  tenant_id: "${OMEGA_TENANT_ID}"
  actor_id: "${OMEGA_ACTOR_ID}"

# ------------------------------------------------------------------------------
# KEON INTEGRATION SEAMS (STUBS)
# ------------------------------------------------------------------------------
# These sections are structural shells. When Keon evidence browser is ready,
# drop in the verified configuration without refactoring this file.

keon:
  # --------------------------------------------------
  # SEAM: Evidence Browser Connection
  # --------------------------------------------------
  # When wired:
  #   - URL will point to Keon Control evidence browser
  #   - SDK will fetch verification status before operations
  #   - Dashboard links will be generated automatically
  evidence_browser:
    enabled: false  # STUB: Set true when Keon Control lands
    url: "${KEON_EVIDENCE_BROWSER_URL:-}"
    # refresh_interval_ms: 30000  # Uncomment when wired

  # --------------------------------------------------
  # SEAM: Receipt Threading
  # --------------------------------------------------
  # When wired:
  #   - decision_receipt_id flows through all requests
  #   - Governance state is tracked end-to-end
  #   - Audit trail is immutable
  governance:
    require_receipts: false  # STUB: Set true for production
    receipt_thread_header: "X-Keon-Receipt-Id"
    policy_tags: []  # STUB: ["prod", "customer_facing"] when ready

  # --------------------------------------------------
  # SEAM: Verification Status Display
  # --------------------------------------------------
  # When wired:
  #   - Verification status shown in CLI output
  #   - Governance status embedded in responses
  #   - Evidence links returned with results
  verification_status_display:
    show_verification_status: false  # STUB: Set true when TrustOps lands
    show_evidence_links: false
    show_governance_state: false

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
logging:
  level: INFO
  format: "structured"
  # When Keon is wired, correlation IDs will be logged automatically
  include_correlation: true

# ------------------------------------------------------------------------------
# ASSUMPTIONS (Document what we assume while scaffolding)
# ------------------------------------------------------------------------------
#
# 1. Keon Evidence Browser will expose a REST API at /api/v1/evidence/*
# 2. Verification verdict values will be: NONE, LOW, MEDIUM, HIGH, VERIFIED
# 3. Receipt IDs follow canonical format: t:<tenant>|r:<uuidv7>
# 4. Evidence pack IDs follow canonical format: t:<tenant>|e:<uuidv7>
# 5. Evidence response includes explicit Keon fields:
#    - verdict: verification verdict (NONE, LOW, MEDIUM, HIGH, VERIFIED)
#    - kid: key identifier for verification (t:<tenant>|k:<uuidv7>)
#    - verification_method: method used (e.g., cryptographic_signature)
#    - verified_at: ISO 8601 timestamp of verification
# 6. Governance state is immutable once a receipt is issued
#
# If any assumption is wrong, this config needs corresponding updates.
# ------------------------------------------------------------------------------
